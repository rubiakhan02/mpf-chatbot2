module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},58416,a=>{a.v({accent:"Chatbot-module__TlBrQq__accent",avatar:"Chatbot-module__TlBrQq__avatar",botMessage:"Chatbot-module__TlBrQq__botMessage",bounce:"Chatbot-module__TlBrQq__bounce",chatOptions:"Chatbot-module__TlBrQq__chatOptions",chatbotContainer:"Chatbot-module__TlBrQq__chatbotContainer",closeBtn:"Chatbot-module__TlBrQq__closeBtn",container:"Chatbot-module__TlBrQq__container",customForm:"Chatbot-module__TlBrQq__customForm",dot:"Chatbot-module__TlBrQq__dot",fadeIn:"Chatbot-module__TlBrQq__fadeIn",formError:"Chatbot-module__TlBrQq__formError",formInput:"Chatbot-module__TlBrQq__formInput",formSuccess:"Chatbot-module__TlBrQq__formSuccess",formTitle:"Chatbot-module__TlBrQq__formTitle",header:"Chatbot-module__TlBrQq__header",headerInfo:"Chatbot-module__TlBrQq__headerInfo",hidden:"Chatbot-module__TlBrQq__hidden",inputArea:"Chatbot-module__TlBrQq__inputArea",launcher:"Chatbot-module__TlBrQq__launcher",message:"Chatbot-module__TlBrQq__message",messages:"Chatbot-module__TlBrQq__messages",optionBtn:"Chatbot-module__TlBrQq__optionBtn",pBuilder:"Chatbot-module__TlBrQq__pBuilder",pCardContent:"Chatbot-module__TlBrQq__pCardContent",pCta:"Chatbot-module__TlBrQq__pCta",pDetails:"Chatbot-module__TlBrQq__pDetails",pEnquire:"Chatbot-module__TlBrQq__pEnquire",pLoc:"Chatbot-module__TlBrQq__pLoc",pPrice:"Chatbot-module__TlBrQq__pPrice",pStatus:"Chatbot-module__TlBrQq__pStatus",primary:"Chatbot-module__TlBrQq__primary",projectCard:"Chatbot-module__TlBrQq__projectCard",projectSlider:"Chatbot-module__TlBrQq__projectSlider",scrollArrow:"Chatbot-module__TlBrQq__scrollArrow",sendBtn:"Chatbot-module__TlBrQq__sendBtn",sliderWrapper:"Chatbot-module__TlBrQq__sliderWrapper",status:"Chatbot-module__TlBrQq__status",submitBtn:"Chatbot-module__TlBrQq__submitBtn",typing:"Chatbot-module__TlBrQq__typing",userInput:"Chatbot-module__TlBrQq__userInput",userMessage:"Chatbot-module__TlBrQq__userMessage",visible:"Chatbot-module__TlBrQq__visible"})},8985,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(58416);function e(){let[a,e]=(0,c.useState)(!1),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)("Please select an option"),v=(0,c.useRef)(null);(0,c.useEffect)(()=>{o(Math.random().toString(36).substring(2)+Date.now().toString(36)),i([{id:"initial",type:"bot",text:"Hi ðŸ‘‹\nWelcome to My Property Fact!\n\nReady to find the perfect property? ðŸ¡âœ¨\n\nPlease select your property type to get started.",options:["Commercial","Residential","New Launch"]}])},[]),(0,c.useEffect)(()=>{v.current&&v.current.scrollIntoView({behavior:"smooth"})},[h,l]);let w=()=>e(!a),x=(a,b,c=[],d=[],e=null)=>{let f={id:Date.now(),type:b,text:a,options:c,projectCards:d,followUp:e};i(a=>[...a,f]),q(c=>[...c,{sender:b,message:a}])},y=async(a=null)=>{let b=a||j.trim();if(b){if(["restart","reset"].includes(b.toLowerCase())){i([{id:Date.now(),type:"bot",text:"Hi ðŸ‘‹\nWelcome to My Property Fact!\n\nReady to find the perfect property? ðŸ¡âœ¨\n\nPlease select your property type to get started.",options:["Commercial","Residential","New Launch"]}]),q([]),k(""),s(!0),u("Please select an option");return}x(b,"user"),k(""),s(!1),u("Type a message..."),m(!0);try{let a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:n,message:b})}),c=await a.json();m(!1),c.redirectUrl?(c.reply&&x(c.reply,"bot"),setTimeout(()=>{window.location.href=c.redirectUrl},1500)):c.reply&&x(c.reply,"bot",c.options||[],c.projectCards||[],c.followUp),c.options&&c.options.length>0?(s(!0),u("Please select an option")):(s(!1),u("Type a message..."))}catch(a){console.error(a),m(!1),x("Error connecting to server.","bot")}}},z=(a,b,c)=>{i(d=>[...d,{id:Date.now(),type:"bot",text:a,followUp:b,options:c}]),s(!0),u("Please select an option")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{className:d.default.launcher,onClick:w,"aria-label":"Open Chatbot",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2-2z"})})}),(0,b.jsxs)("div",{className:`${d.default.container} ${!a?d.default.hidden:""}`,children:[(0,b.jsxs)("div",{className:d.default.header,children:[(0,b.jsxs)("div",{className:d.default.headerInfo,children:[(0,b.jsx)("div",{className:d.default.avatar,children:(0,b.jsx)("img",{src:"/logo.png",alt:"MPF Logo",style:{width:"100%",height:"100%",objectFit:"contain"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{children:"MyPropertyFact"}),(0,b.jsx)("span",{className:d.default.status,children:"Online"})]})]}),(0,b.jsx)("button",{className:d.default.closeBtn,onClick:w,"aria-label":"Close Chatbot",children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,b.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,b.jsxs)("div",{className:d.default.messages,children:[h.map(a=>(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)("div",{className:`${d.default.message} ${"user"===a.type?d.default.userMessage:d.default.botMessage}`,children:a.text.split("\n").map((a,c)=>(0,b.jsx)("div",{children:a},c))}),a.projectCards&&a.projectCards.length>0&&(0,b.jsx)(f,{cards:a.projectCards,followUp:a.followUp||"Would you like to see more projects?",options:a.options,onOptionClick:a=>{let b=a.toLowerCase();"yes"===b||"yes, please"===b||"sure"===b?window.location.href="https://mypropertyfact.in/projects?propertyType=2&propertyLocation=2&budget=Up+to+1Cr":y(a)},onEnquire:a=>{i(b=>[...b,{id:"form-"+Date.now(),type:"form",projectName:a}])}}),a.followUp&&(!a.projectCards||0===a.projectCards.length)&&(0,b.jsx)("div",{className:`${d.default.message} ${d.default.botMessage}`,children:a.followUp}),"form"===a.type&&(0,b.jsx)(g,{projectName:a.projectName,sessionId:n,onSuccess:z}),a.options&&a.options.length>0&&(!a.projectCards||0===a.projectCards.length)&&(0,b.jsx)("div",{className:d.default.chatOptions,children:a.options.map((a,c)=>(0,b.jsx)("button",{className:d.default.optionBtn,onClick:()=>y(a),children:a},c))})]},a.id)),l&&(0,b.jsxs)("div",{className:d.default.typing,children:[(0,b.jsx)("span",{className:d.default.dot}),(0,b.jsx)("span",{className:d.default.dot}),(0,b.jsx)("span",{className:d.default.dot})]}),(0,b.jsx)("div",{ref:v})]}),(0,b.jsxs)("div",{className:d.default.inputArea,children:[(0,b.jsx)("input",{type:"text",className:d.default.userInput,placeholder:t,value:j,disabled:r,onChange:a=>k(a.target.value),onKeyPress:a=>"Enter"===a.key&&y()}),(0,b.jsx)("button",{className:d.default.sendBtn,onClick:()=>y(),disabled:r||!j.trim(),children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),(0,b.jsx)("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})]})]})}function f({cards:a,onEnquire:e,followUp:f,options:g,onOptionClick:h}){let i=(0,c.useRef)(null),[j,k]=(0,c.useState)(!1),l=()=>{if(!i.current)return;let{scrollLeft:a,scrollWidth:b,clientWidth:c}=i.current;k(a<b-c-5)};return(0,c.useEffect)(()=>(l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)),[a]),(0,b.jsxs)("div",{className:d.default.sliderWrapper,children:[(0,b.jsx)("div",{className:d.default.projectSlider,ref:i,onScroll:l,children:a.map((a,c)=>(0,b.jsxs)("div",{className:d.default.projectCard,children:[(0,b.jsx)("img",{src:a.image,alt:a.name,onError:a=>a.target.src="https://via.placeholder.com/300x200?text=No+Image"}),(0,b.jsxs)("div",{className:d.default.pCardContent,children:[(0,b.jsx)("h4",{children:a.name}),(0,b.jsxs)("p",{className:d.default.pLoc,children:["ðŸ“ ",a.location]}),(0,b.jsxs)("div",{className:d.default.pDetails,children:[(0,b.jsx)("span",{className:d.default.pPrice,children:a.price}),(0,b.jsx)("span",{className:d.default.pStatus,children:a.status})]}),(0,b.jsxs)("p",{className:d.default.pBuilder,children:["By ",a.builder]}),(0,b.jsx)("button",{className:d.default.pCta,onClick:()=>window.open(a.link,"_blank"),children:"View Details"}),(0,b.jsx)("button",{className:d.default.pEnquire,onClick:()=>e(a.name),children:"Enquire"})]})]},c))}),(0,b.jsx)("button",{className:`${d.default.scrollArrow} ${j?d.default.visible:""}`,onClick:()=>{i.current.scrollBy({left:300,behavior:"smooth"})},children:"â†’"}),(f||a&&a.length>0)&&(0,b.jsx)("div",{className:`${d.default.message} ${d.default.botMessage}`,style:{marginTop:"16px",marginLeft:"0",alignSelf:"flex-start",display:"inline-block",width:"auto",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",padding:"10px 14px",borderRadius:"12px",fontSize:"0.95rem"},children:f||"Would you like to see more projects?"}),g&&g.length>0&&(0,b.jsx)("div",{className:d.default.chatOptions,style:{marginLeft:"0",marginTop:"8px",display:"flex"},children:g.map((a,c)=>(0,b.jsx)("button",{className:d.default.optionBtn,onClick:()=>h(a),children:a},c))})]})}function g({projectName:a,sessionId:e,onSuccess:f}){let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),s=async()=>{if(!g||g.length<3)return void n("Name must be at least 3 characters.");if(!/^[6-9]\d{9}$/.test(i))return void n("Please enter a valid 10-digit mobile number.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k))return void n("Please enter a valid email address.");n(""),p(!0);try{let b=await fetch("/api/enquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e,name:g,mobile:i,email:k,project:a})}),c=await b.json();c.success?(r(!0),f(c.reply,c.followUp,c.options)):(n(c.message||"Submission failed."),p(!1))}catch(a){console.error(a),n("Connection error."),p(!1)}};return q?(0,b.jsx)("div",{className:d.default.customForm,children:(0,b.jsx)("div",{className:d.default.formSuccess,children:"Thank you for sharing your details. Our consultant will contact you within 24 hours."})}):(0,b.jsxs)("div",{className:d.default.customForm,children:[(0,b.jsxs)("div",{className:d.default.formTitle,children:["Please share your details for",(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:a})]}),(0,b.jsx)("input",{type:"text",className:d.default.formInput,placeholder:"Full Name *",value:g,onChange:a=>h(a.target.value)}),(0,b.jsx)("input",{type:"tel",className:d.default.formInput,placeholder:"Mobile Number (10 digits) *",maxLength:"10",value:i,onChange:a=>j(a.target.value)}),(0,b.jsx)("input",{type:"email",className:d.default.formInput,placeholder:"Email ID *",value:k,onChange:a=>l(a.target.value)}),(0,b.jsx)("button",{className:d.default.submitBtn,onClick:s,disabled:o,children:o?"Submitting... â³":"Submit"}),m&&(0,b.jsx)("div",{className:d.default.formError,children:m})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9d9115ba._.js.map